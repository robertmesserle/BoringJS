!function t(e,n,i){function r(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./base.coffee"),n=function(t){function e(t,e){return this.context=t,this.attribute=e,this.attribute?(this.template=this.attribute.nodeValue,void(this.attribute.nodeName.match(/^data/)||this.template.match("{")&&(this.updateValue(),this.pushBinding()))):this.parseAttributes()}return o(e,t),e.prototype.parseAttributes=function(){var t,n,i,r,o;for(r=this.context.$element.get(0).attributes||[],o=[],n=0,i=r.length;i>n;n++)t=r[n],o.push(new e(this.context,t));return o},e.prototype.updateValue=function(){var t;return t=this.parseString(this.template),this.value!==t?(this.value=t,this.attribute.nodeValue=t):void 0},e.prototype.update=function(){return this.updateValue()},e}(i),e.exports=n},{"./base.coffee":3}],2:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("./base.coffee"),n=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("attr"))&&(this.setValue(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e.prototype.setValue=function(){var t,e;if(e=$.extend(!0,{},this.parseBinding(this.binding)),this.value!==e){if(this.value)for(t in this.value)this.value[t]="";return this.context.$element.attr($.extend(!0,this.value||{},e)),this.value=e}},e.prototype.update=function(){return this.setValue()},e}(i),e.exports=n},{"./base.coffee":3}],3:[function(require,module,exports){var Base,Compiler,shared;shared=require("../shared.coffee"),Compiler=require("../compiler.coffee"),Base=function(){function Base(){this.logic=null!=this.context.$element.data("logic"),(this.logic||this["if"])&&this.insertPlaceholder(),this.pushBinding()}return Base.prototype.getBindings=function(){var t,e,n;return t=null!=(e=this.context.extras)?null!=(n=e.parentBinding)?n.bindings:void 0:void 0,null==t&&(t=shared.bindings),t},Base.prototype.pushBinding=function(){var t;if(null==this.context.$element.data("static"))return t=this.getBindings(),this.update&&t.read.push(this),this.write?t.write.push(this):void 0},Base.prototype.parseBinding=function(t,e){var n;return null==e&&(e=!0),null==this.cachedBindings&&(this.cachedBindings={}),(n=this.cachedBindings[t])?n.call(this):(this.cachedBindings[t]=this.generateFunction(t),e?this.cachedBindings[t].call(this):this.cachedBindings[t])},Base.prototype.cleanParentBindings=function(){var t,e,n,i,r,o,s,u;for(t=this.getBindings(),u=[],n=i=r=t.length-1;0>=r?0>=i:i>=0;n=0>=r?++i:--i)e=(null!=(o=binding.context.$placeholder)?o.get(0):void 0)||(null!=(s=binding.context.$element)?s.get(0):void 0),u.push($.contains(document.body,e)?void 0:t.splice(n,1));return u},Base.prototype.removeBinding=function(){var t,e,n,i;return t=null!=(n=this.context.extras)?null!=(i=n.parentBinding)?i.bindings:void 0:void 0,null==t&&(t=shared.bindings),e=t.read.indexOf(this),e+1?t.read.splice(e,1):void 0},Base.prototype.parseString=function(t){var e;return null==this.cachedStrings&&(this.cachedStrings={}),(e=this.cachedStrings[t])?e.call(this):(t=t.replace(/\"/g,'\\"'),t='"'+t+'"',this.cachedStrings[t]=this.generateFunction(t),this.cachedStrings[t].call(this))},Base.prototype.generateFunction=function(str,customArgs){var argHash,args,js,key,scopeArgs,value;null==customArgs&&(customArgs=[]),js=Compiler.compile(""+str),argHash={$element:"this.context.$element",$root:"this.context.root",$parent:"this.context.parent",$data:"this.context.scope",$scope:"this.context.scope",$extras:"this.context.extras"},args=[],scopeArgs=[];for(key in this.context.scope)isNaN(key)&&(argHash[key]="this.context.scope[ '"+key+"' ]");for(key in this.context.extras)isNaN(key)&&(argHash[key]="this.context.extras[ '"+key+"' ]");for(key in argHash)value=argHash[key],args.push(key),scopeArgs.push(value);return eval("( function ( "+customArgs.join(",")+" ) {\n  return ( function ( "+args.join(",")+" ) {\n    return "+js+"\n  } ).call( {}, "+scopeArgs.join(", ")+" )\n} )")},Base.prototype.updateBinding=function(t,e){var n,i,r;return null==e&&(e=this.binding),i=e.split("."),n=i.pop(),r=this.parseBinding(i.join("."))||this.context.scope,"function"==typeof r[n]?r[n](t):r[n]=t},Base.prototype.insertPlaceholder=function(){var t,e;if(!this.context.$placeholder)return e=function(){var e,n,i,r;for(i=this.context.$element.get(0).attributes,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(""+t.nodeName+"='"+t.value+"'");return r}.call(this).join(" "),this.context.$placeholder=$("<!-- RecoilJS: "+e+" -->").insertBefore(this.context.$element),this.unwrap()},Base.prototype.wrap=function(){return this.context.unwrapped&&this.logic?(this.context.unwrapped=!1,this.context.$element.insertBefore(this.context.$contents),this.context.$contents.appendTo(this.context.$element)):void 0},Base.prototype.unwrap=function(){return!this.context.unwrapped&&this.logic?(this.context.unwrapped=!0,this.context.$contents=this.context.$element.contents().insertAfter(this.context.$element),this.context.$element.detach()):void 0},Base.prototype.checkBindings=function(){var t,e,n,i,r,o,s;if(this.bindings){for(o=[{type:"write",method:"write"},{type:"read",method:"update"}],s=[],i=0,r=o.length;r>i;i++)n=o[i],e=this.bindings[n.type],s.push(function(){var i,r,o,s;for(o=e.slice(0),s=[],i=0,r=o.length;r>i;i++)t=o[i],s.push(t[n.method]());return s}());return s}},Base}(),module.exports=Base},{"../compiler.coffee":16,"../shared.coffee":28}],4:[function(t,e){var n,i,r,o,s,u,a=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};u=t("../shared.coffee"),s=u.views,o=u.viewPath,r=u.transitions,n=t("./base.coffee"),i=function(t){function e(t){this.context=t,this.renderView=a(this.renderView,this),((this.binding=this.context.$element.data("compose"))||this.context.$element.data("view"))&&(this.context.skipChildren=!0,this.bindings={read:[],write:[]},this.binding&&(this.controller=this.parseBinding(this.binding)),this.view=this.getView(),this.view&&this.loadView(),e.__super__.constructor.apply(this,arguments))}return p(e,t),e.prototype.getView=function(t){var e;return null==t&&(t=this.controller),e=this.context.$element.data("view"),e?this.parseBinding(e):null!=t?t.view:void 0},e.prototype.loadView=function(){var t;return t=""+o+"/"+this.view+".html",s[t]?this.renderView(s[t]):(this.loading=!0,$.ajax({url:t,success:function(e){return function(n){return e.loading=!1,n=s[t]=n.replace(/<\$/g,'<div data-logic="true"').replace(/<\/\$>/g,"</div>"),e.renderView(n)}}(this)}))},e.prototype.renderView=function(t){var e,n,i,o;return null==t&&(t=this.html),null!=(n=this.controller)&&"function"==typeof n.beforeRender&&n.beforeRender(this.context.$element,this.context.parent,this.context.root),this.context.$element.scrollTop(0),this.html=t,this.bindings={read:[],write:[]},this.insertHtml(),null!=(i=this.controller)&&"function"==typeof i.afterRender&&i.afterRender(this.context.$element,this.context.parent,this.context.root),e=r.intro[this.view]||(null!=(o=this.controller)?o.intro:void 0)||null,"function"==typeof e?e(this.context.$element):void 0},e.prototype.insertHtml=function(){var t;return t=$("<!-- placeholder comment for compose binding -->").insertBefore(this.context.$element),this.context.$element.detach().html(this.html),this.parseChildren(),t.after(this.context.$element).remove()},e.prototype.parseChildren=function(){return this.context.$element.contents().each(function(t){return function(e,n){var i;return i=$.extend({},t.context.extras,{parentBinding:t}),new shared.Parser({$element:$(n),scope:t.controller,parent:t.context.scope,root:t.context.root,extras:i})}}(this))},e.prototype.update=function(){var t,e,n,i,o;if(!this.loading)return this.binding&&(e=this.parseBinding(this.binding)),i=this.getView(e),this.controller!==e||this.view!==i?(n=r.outro[this.view]||(null!=(o=this.controller)?o.outro:void 0)||null,this.controller=e,this.view=i,t=function(t){return function(){return t.view?t.loadView():void 0}}(this),("function"==typeof n?n(this.context.$element,t):void 0)||t()):this.checkBindings()},e}(n),e.exports=i},{"../shared.coffee":28,"./base.coffee":3}],5:[function(t,e){var n,i,r,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("../shared.coffee"),n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("context"))&&(this.$template=this.context.$element.contents().clone(),this.setValue(),e.__super__.constructor.apply(this,arguments))}return s(e,t),e.prototype.setValue=function(){var t;return t=this.parseBinding(this.binding),this.value!==t?(this.value=t,this.setChildContext()):void 0},e.prototype.setChildContext=function(){return this.context.childContext={scope:this.value,parent:this.context.scope}},e.prototype.update=function(){var t;return t=this.parseBinding(this.binding),this.value!==t?(this.context.$element.html(this.$template.clone()),this.removeBinding(),new r.Parser(this.context)):void 0},e}(n),e.exports=i},{"../shared.coffee":28,"./base.coffee":3}],6:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("css"))&&(this.updateCSS(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e.prototype.updateCSS=function(){var t;return this.css=this.parseBinding(this.binding),t=JSON.stringify(this.css),this.cssString!==t?this.context.$element.css(this.css):void 0},e.prototype.update=function(){return this.updateCSS()},e}(n),e.exports=i},{"./base.coffee":3}],7:[function(t,e){var n,i,r,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("../shared.coffee").events,n=t("./base.coffee"),i=function(t){function e(t,e){var n,i,r;return this.context=t,e?(r=this.context.$element.data(e),n=""+r,i=this.parseBinding(n,!1),e=""+e+".recoil",void this.context.$element.off(e).on(e,function(t){return function(e){var n,r;return n=i.call(t,e),"function"==typeof n?n(e,(null!=(r=t.context.extras)?r.item:void 0)||t.context.scope):n}}(this))):this.parseEvents()}return s(e,t),e.prototype.parseEvents=function(){var t,n,i,o,s;for(s=[],i=0,o=r.length;o>i;i++)t=r[i],n=this.context.$element.data(t),n&&s.push(new e(this.context,t));return s},e.prototype.generateFunction=function(t){return e.__super__.generateFunction.call(this,t,["$event"])},e}(n),e.exports=i},{"../shared.coffee":28,"./base.coffee":3}],8:[function(t,e){var n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("../shared.coffee"),n=t("./base.coffee"),i=function(t){function e(t){this.context=t,this.updateItems=o(this.updateItems,this),this.checkForChanges=o(this.checkForChanges,this),(this.binding=this.context.$element.data("for"))&&(this.bindings={read:[],write:[]},this.context.skipChildren=!0,this.getParts(),this.getTemplate(),this.collection=this.getCollection(),this.wrap(),this.parseItems(this.collection),this.unwrap(),e.__super__.constructor.apply(this,arguments))}return u(e,t),e.prototype.getParts=function(){var t,e,n;return n=this.binding.split(/\s+in\s+|\s+when\s+/g),e=n[0].split(","),this.itemName=$.trim(e[0]),this.indexName=$.trim(e[1]),this.collectionName=$.trim(n[1]),t=$.trim(n[2]||"true"),this.conditionFunction=this.parseBinding(t,!1)},e.prototype.getTemplate=function(){return this.$template=this.context.$element.contents().remove()},e.prototype.getCollection=function(){var t,e,n,i;if(n=this.parseBinding(this.collectionName),n="function"==typeof n?n():n,n instanceof Array)n=function(){var i,r,o;for(o=[],t=i=0,r=n.length;r>i;t=++i)e=n[t],this.conditionFunction.call(this,e,t)&&o.push(e);return o}.call(this);else for(e in n)i=n[e],this.conditionFunction.call(this,e,i)||delete n[i];return n},e.prototype.parseItems=function(t){var e,n,i,r,o,s;if(null==t&&(t=this.getCollection()),t instanceof Array){for(o=[],e=i=0,r=t.length;r>i;e=++i)n=t[e],o.push(this.parseItem(n,e,t));return o}s=[];for(e in t)n=t[e],s.push(this.parseItem(n,e,t));return s},e.prototype.parseItem=function(t,e,n){var i,o;return i=this.$template.clone().appendTo(this.context.$element),o=$.extend({},this.context.extras),"object"==typeof t?(o.itemName=this.itemName,o.$item=t,o[this.itemName]=t,o[this.itemName].$index=e,o[this.itemName].$total=n.length):o[this.itemName]=t,this.indexName&&(o[this.indexName]=e),o.parentBinding=this,new r.Parser({$element:i,scope:this.context.scope,parent:this.context.parent,root:this.context.root,extras:o})},e.prototype.generateFunction=function(t){var n;return n=[this.itemName],this.indexName&&n.push(this.indexName),e.__super__.generateFunction.call(this,t,n)},e.prototype.checkForChanges=function(t){var e,n,i,r,o;if(!this.collection)return!0;if(t.length!==this.collection.length)return!0;for(o=t||[],e=i=0,r=o.length;r>i;e=++i)if(n=o[e],n!==this.collection[e])return!0;return!1},e.prototype.updateItems=function(){var t;return t=this.getCollection(),this.checkForChanges(t)?(this.wrap(),this.collection=t.slice(0),this.bindings={read:[],write:[]},this.context.$element.empty(),this.parseItems(t),this.unwrap()):this.checkBindings()},e.prototype.update=function(){return this.updateItems()},e}(n),e.exports=i},{"../shared.coffee":28,"./base.coffee":3}],9:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("html"))&&(this.setValue(),this.pushBinding())}return o(e,t),e.prototype.setValue=function(){var t;return t=this.parseBinding(this.binding),this.value!==t?(this.value=t,this.context.$element.html(this.value)):void 0},e.prototype.update=function(){return this.setValue()},e}(n),e.exports=i},{"./base.coffee":3}],10:[function(t,e){var n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("../shared.coffee"),n=t("./base.coffee"),i=function(t){function e(t){this.context=t,this.reparse=o(this.reparse,this),null!=(this.binding=this.context.$element.data("if"))&&(this.checkForErrors(),e.__super__.constructor.apply(this,arguments),this.update(!1))}return u(e,t),e.prototype["if"]=!0,e.prototype.checkForErrors=function(){if(this.context.$element.data("for"))throw'Recoil Error:  "data-for" and "data-if" cannot be used on the same element.'},e.prototype.reparse=function(){return this.wrap(),this.removeBinding(),new r.Parser(this.context),delete this.reparse},e.prototype.setValue=function(t){return null==t&&(t=!1),this.context.stopParsing=!this.value,this.value?(this.context.$element.insertAfter(this.context.$placeholder),t?this.reparse():void 0):(this.context.$element.detach(),this.cleanParentBindings())},e.prototype.update=function(t){var e;return null==t&&(t=!0),e=!!this.parseBinding(this.binding),this.value!==e?(this.value=e,this.wrap(),this.setValue(t),this.unwrap()):void 0},e}(n),e.exports=i},{"../shared.coffee":28,"./base.coffee":3}],11:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("init"))&&(this.csString="-> "+this.binding,this.func=this.parseBinding(this.csString,!1),this.func.call(this)(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e}(n),e.exports=i},{"./base.coffee":3}],12:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,3===this.context.$element.get(0).nodeType&&(this.template=this.context.$element.text())&&this.template.indexOf("{")+1&&(this.context.stopParsing=!0,this.element=this.context.$element.get(0),this.updateValue(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e.prototype.updateValue=function(){var t;return t=this.parseString(this.template),this.value!==t?this.element.nodeValue=this.value=t:void 0},e.prototype.update=function(){return this.updateValue()},e}(n),e.exports=i},{"./base.coffee":3}],13:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("update"))&&(this.csString="-> "+this.binding,this.func=this.parseBinding(this.csString,!1),this.func.call(this)(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e.prototype.update=function(){try{return this.func.call(this)()}catch(t){}},e}(n),e.exports=i},{"./base.coffee":3}],14:[function(t,e){var n,i,r=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,this.updateHandler=r(this.updateHandler,this),(this.binding=this.context.$element.data("value"))&&(this.context.skipChildren=!0,this.setValue(),this.context.$element.is("select")&&this.updateHandler(),this.bindEvents(),e.__super__.constructor.apply(this,arguments))}return s(e,t),e.prototype.bindEvents=function(){var t;return t="click keydown change",this.context.$element.on(t,$.noop)},e.prototype.getValue=function(){var t;if("radio"!==this.context.$element.attr("type")||this.context.$element.is(":checked"))return t=this.parseBinding(this.binding),t=("function"==typeof t?t():void 0)||t},e.prototype.setValue=function(){var t;if(t=this.getValue(),this.value!==t)switch(this.value=t,this.context.$element.attr("type")){case"checkbox":return this.context.$element.prop("checked",t);case"radio":break;default:return this.context.$element.val(this.value)}},e.prototype.updateHandler=function(){var t;if(!this.context.$element.is(":radio")||this.context.$element.is(":checked"))return t=function(){switch(this.context.$element.attr("type")){case"checkbox":return this.context.$element.prop("checked");default:return this.context.$element.val()}}.call(this),this.value!==t?this.updateBinding(this.value=t):void 0},e.prototype.update=function(){return this.setValue()},e.prototype.write=function(){return this.updateHandler()},e}(n),e.exports=i},{"./base.coffee":3}],15:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base.coffee"),i=function(t){function e(t){this.context=t,(this.binding=this.context.$element.data("visible"))&&(this.setValue(),e.__super__.constructor.apply(this,arguments))}return o(e,t),e.prototype.setValue=function(){var t;return t=!!this.parseBinding(this.binding),this.value!==t?(this.value=t,this.value?this.context.$element.show():this.context.$element.hide()):void 0},e.prototype.update=function(){return this.setValue()},e}(n),e.exports=i},{"./base.coffee":3}],16:[function(t,e){var n;n=function(){function t(){}return t.compile=function(t){var e;return("undefined"!=typeof CoffeeScript&&null!==CoffeeScript?CoffeeScript.compile:void 0)?CoffeeScript.compile("do -> "+t,{bare:!0}):(e=/.#\{([^\}]*[^\\])\}/g,t=t.replace(/\n/g,"\\n"),t=t.replace(e,function(t,e){var n;return n=t.charAt(0),"\\"===n?t:""+n+'" + ( '+e+' ) + "'}),"( function () { return "+t+"; } )()")},t}(),e.exports=n},{}],17:[function(t,e){var n,i,r=function(t,e){return function(){return t.apply(e,arguments)}};i=t("./parser.coffee"),n=function(){function t(t,e){this.$element=t,this.controller=e,this.addComposition=r(this.addComposition,this),this.checkForLogicTags(),this.addComposition()}return t.prototype.checkForLogicTags=function(){var t;return t=this.$element.html(),t.indexOf("&lt;$")+1?(t=t.replace(/&lt;\$(.*)&gt;/g,function(t,e){return"<div data-logic "+e+">"}),t=t.replace(/<!--\$-->/g,"</div>"),this.$element.html(t)):void 0},t.prototype.addComposition=function(){return this.controller.view&&this.$element.data("compose","$scope"),new i({$element:this.$element,scope:this.controller,root:this.controller})},t}(),e.exports=n},{"./parser.coffee":26}],18:[function(t,e){var n,i,r;r=t("./shared.coffee"),i=window,n=function(){function t(){return this.constructor.instance?this.constructor.instance:(this.constructor.instance=this,this.bindEvents(),this.overwriteEventListeners(),void this.overwriteTimeouts())}return t.originalMethods={},t.instance=null,t.lastCheck=0,t.timeout=null,t.update=function(){var t,e,n;if(!this.timeout)return e=+new Date,n=e-this.lastCheck,this.lastCheck=e,n>r.throttle&&(n=0),t=function(t){return function(){var e,n,i,o,s,u;for(t.timeout=null,s=[{type:"write",method:"write"},{type:"read",method:"update"}],u=[],i=0,o=s.length;o>i;i++)n=s[i],u.push(function(){var t,i,o,s;for(o=r.bindings[n.type],s=[],t=0,i=o.length;i>t;t++)e=o[t],s.push(e[n.method]());return s}());return u}}(this),n?this.timeout=this.originalMethods.setTimeout(t,n):t()},t.prototype.elementList="undefined"!=typeof InstallTrigger?[HTMLAnchorElement,HTMLAppletElement,HTMLAreaElement,HTMLAudioElement,HTMLBaseElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDataListElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLLabelElement,HTMLLegendElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMediaElement,HTMLMenuElement,HTMLMetaElement,HTMLMeterElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLProgressElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTitleElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement]:[Element],t.prototype.getListener=function(e){return function(n,i){var r;return r=Array.apply(null,arguments),r[1]=function(){return i.apply(null,arguments),n.indexOf("down")>=0?setTimeout(function(){return t.update()}):t.update()},e.apply(this,r)}},t.prototype.overwriteEventListeners=function(){var t,e,n,i,r,o;for(r=this.elementList,o=[],n=0,i=r.length;i>n;n++)e=r[n],t=e.prototype.addEventListener,t&&(e.prototype.addEventListener=this.getListener(t)),t=e.prototype.attachEvent,o.push(t?e.prototype.attachEvent=this.getListener(t):void 0);return o},t.prototype.overwriteTimeouts=function(){var e,n,r,o,s,u;for(s=["setTimeout","setInterval"],u=[],r=0,o=s.length;o>r;r++)e=s[r],n=i[e],u.push(function(n){return function(r){return n.constructor.originalMethods[e]=function(){return r.apply(i,arguments)},i[e]=function(e){var n;return n=Array.apply(null,arguments),n[0]=function(){return e.apply(null,arguments),t.update()},r.apply(i,n)}}}(this)(n));return u},t.prototype.bindEvents=function(){return $(function(){return $(document).ajaxComplete(function(){return t.update()}).on("load","script",function(){return t.update()}).on("click keydown","label",function(){return setTimeout(function(){return t.update()})})})},t}(),e.exports=n},{"./shared.coffee":28}],19:[function(t,e){var n,i,r,o,s,u,a,c,p=[].slice;c=t("./shared.coffee"),r=t("./dirty-check.coffee"),i=t("./core.coffee"),a=t("./router.coffee"),s=t("./model/property.coffee"),n=t("./model/collection.coffee"),o=t("./model/model.coffee"),u=function(){function t(){var t,e,n;if(t=2<=arguments.length?p.call(arguments,0,n=arguments.length-1):(n=0,[]),e=arguments[n++],this.controller=e,c.app)throw"You may only have one app running at a time.";$(function(e){return function(){var n;return new r,n=$("[data-app='"+t[0]+"'], [data-app], body").eq(0),c.app=new i(n,e.controller)}}(this))}return t.init=function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(t,arguments,function(){})},t.Property=s,t.Collection=n,t.Model=o,t.mapRoute=function(){var t;return(t=a.getInstance()).mapRoute.apply(t,arguments)},t.mapDefaultRoute=function(){var t;return(t=a.getInstance()).mapDefaultRoute.apply(t,arguments)},t.triggerRouteChange=function(){return a.getInstance().handleChange()},t.createTransition=function(e,n,i){return t.transitions[e][n]=i},t.setViewPath=function(t){return c.viewPath=t},t.setMaxUpdateFrequency=function(t){return c.throttle=t},t}(),"undefined"!=typeof window&&null!==window&&(window.Recoil=u),"undefined"!=typeof e&&null!==e&&(e.exports=u)},{"./core.coffee":17,"./dirty-check.coffee":18,"./model/collection.coffee":21,"./model/model.coffee":23,"./model/property.coffee":24,"./router.coffee":27,"./shared.coffee":28}],20:[function(t,e){var n,i,r;r=t("../shared.coffee"),i=t("./virtual.coffee"),n=function(){function t(t){null==t&&(t={}),this._createBuckets(),this._storeItem(),this._wrapProps(),this._createVirtuals(),this.set(t,null,!0,!1),this.save(),this._parseValidates(),this._parseSubscribes(),"function"==typeof this.initialize&&this.initialize(t)}return t.getByField=function(t,e){var n,i,r,o;for(o=this.items,i=0,r=o.length;r>i;i++)if(n=o[i],n[t]===e)return n},t.load=function(t,e){return null!=t?this.loadOne(t,e):$.ajax({url:this.paths.root(),success:function(t){return function(n){var i,r,o,s,u,a,c;for(a=0,c=n.length;c>a;a++)if(r=n[a],o=t.getByField("id",r.id),null!=o){for(i in n)u=n[i],o[i]=u;o.isNew=!1}else s=new t(r),s.isNew=!1;return"function"==typeof e?e(t.items):void 0}}(this)})},t.loadOne=function(t,e){return $.ajax({url:this.paths.get.call({id:t}),success:function(t){return function(n){var i;return i=new t(n),"function"==typeof e?e(i):void 0}}(this)})},t.prototype.isNew=!0,t.prototype.hasChanged=!1,t.prototype._createBuckets=function(){return this.props={},this.virtuals={}},t.prototype._storeItem=function(){return this.constructor.items.push(this)},t.prototype._wrapProps=function(){var t,e,n,i;n=this.$props||{},i=[];for(t in n)e=n[t],this.props[t]=new r.Property(e,this.context),i.push(this[t]=this.props[t].value);return i},t.prototype._createVirtuals=function(){var t,e,n,r,o;r=this.$virtual||{},o=[];for(t in r)e=r[t],this.virtuals[t]=n=new i(e,this),o.push(this[t]=n.value);return o},t.prototype._parseValidates=function(){var t,e,n,i;n=this.$validate,i=[];for(t in n)e=n[t],i.push(this.props[t]._validate=e);return i},t.prototype._parseSubscribes=function(){var t,e,n,i;n=this.$subscribe,i=[];for(t in n)e=n[t],i.push(this.props[t]._subscribe=e);return i},t.prototype.set=function(t,e,n,i){var r;if(null==n&&(n=!0),null==i&&(i=!0),"object"==typeof t){r=t;for(t in r)e=r[t],this.set(t,e,!1,i);if(n)return this.update()}else if(this[t]!==e)if(i&&(this.hasChanged=!0),this.props[t]){if(this[t]=this.props[t].set(e,i),n)return this.updateVirtuals()}else if(this.virtuals[t]&&(this[t]=this.virtuals[t].set(e,i),n))return this.checkProps()},t.prototype.unset=function(t){return this[t]=this.props[t].unset()},t.prototype.revert=function(){var t,e,n,i;n=this.props,i=[];for(t in n)e=n[t],this[t]=e.revert(),i.push(this.updateVirtuals());return i},t.prototype.validate=function(){var t,e,n;n=this.props;for(t in n)if(e=n[t],!e.validate())return!1;return!0},t.prototype.escape=function(t){return this[t].replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.prototype.save=function(){var t,e,n;if(!this.validate())return!1;n=this.props;for(t in n)e=n[t],e.save();return this.send(),!0},t.prototype.send=function(){var t,e;return(e=this.isNew?this.constructor.paths.post.call(this):this.constructor.paths.put.call(this))?(t={url:e,data:this.toJSON(),type:this.isNew?"POST":"PUT",success:function(t){return function(e){var n,i;if(t.isNew=!1,!e)return!1;for(n in e)i=e[n],null!=t.props[n]&&(t[n]=t.props[n].set(i));return t.updateVirtuals()}}(this)},$.ajax(t),t):void 0},t.prototype.fetch=function(){return $.ajax({url:this.constructor.paths.get.call(this),complete:function(t){return this.set(t)}})},t.prototype.checkVirtuals=function(){var t,e,n,i;n=this.virtuals,i=[];for(t in n)e=n[t],this[t]!==e.value&&i.push(this[t]=e.set(this[t]));return i},t.prototype.checkProps=function(){var t,e,n;n=this.props;for(t in n)e=n[t],this[t]!==e.value&&(this[t]=e.set(this[t]),this.hasChanged=!0);return this.updateVirtuals()},t.prototype.updateVirtuals=function(){var t,e,n,i;n=this.virtuals,i=[];for(t in n)e=n[t],i.push(this[t]=e.update());return i},t.prototype.toJSON=function(){var t,e,n,i,r;t={},i=this.props;for(e in i)n=i[e],t[e]=(null!=(r=n.value)?"function"==typeof r.toJSON?r.toJSON():void 0:void 0)||n.value;return t},t.prototype.update=function(){return this.checkVirtuals(),this.checkProps()},t.prototype.clone=function(){return new this.constructor(this.toJSON())},t}(),e.exports=n},{"../shared.coffee":28,"./virtual.coffee":25}],21:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s=[].slice;i=t("./data-type.coffee"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.value=[],this.savedValue=[],this.addArrayMethods()}return o(e,t),e.prototype.addArrayMethods=function(){var t,e,n,i,r;for(i="push pop unshift shift indexOf slice splice".split(/\s/),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(function(t){return function(e){return t[e]=function(){var n;return(n=t.value)[e].apply(n,arguments)}}}(this)(t));return r},e.prototype.save=function(){var t;if(this.validate())return(t=this.savedValue).splice.apply(t,[0,this.savedValue.length].concat(s.call(this.value)))},e.prototype.revert=function(){var t;return(t=this.value).splice.apply(t,[0,this.value.length].concat(s.call(this.savedValue.slice())))},e.prototype.find=function(t){var e,n,i,r,o;if(e=this.value.indexOf(t),!(0>e))return this.value[e];if("function"==typeof t)for(o=this.value,i=0,r=o.length;r>i;i++)if(n=o[i],t(n))return n},e}(i),e.exports=n},{"./data-type.coffee":22}],22:[function(t,e){var n,i;n=t("./base-model.coffee"),i=function(){function t(t,e){null==t&&(t={}),this.context=e,this.parseData(t)}return t.prototype.type=null,t.prototype["default"]=null,t.prototype.value=null,t.prototype.valid=!0,t.prototype.parseType=function(t){var e,i;
return t?(e=t.toString(),e.indexOf("[native code]")+1?t:(null!=t?null!=(i=t.__super__)?i.constructor:void 0:void 0)===n?function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(t,arguments,function(){})}:(t=t(),function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(t,arguments,function(){})})):function(t){return t}},t.prototype.parseData=function(t){return this.type=this.parseType(t.type),this._validate=t.validate||function(){return!0},this._subscribe=t.subscribe||function(){return!0}},t.prototype.validate=function(){return this._validate.call(this.context,this.value)},t}(),e.exports=i},{"./base-model.coffee":20}],23:[function(t,e){var n,i,r={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};n=t("./base-model.coffee"),i=function(){function t(t){return this.meta=null!=t?t:{},this.extendMeta(),this.model=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e}(n),this.attachMeta(),this.attachStatic(),this.attachBuckets(),this.initPaths(),this.constructor.models.push(this.model),this.model}return t.models=[],t.prototype.extendMeta=function(){return this.meta.$extend?this.meta=$.extend(!0,{},this.meta.$extend._meta,this.meta):void 0},t.prototype.attachStatic=function(){var t,e,n,i;n=this.meta.$static||{},i=[];for(t in n)e=n[t],i.push(function(t){return function(e,n){return t.model[e]="function"==typeof n?function(){return n.apply(t.model,arguments)}:n}}(this)(t,e));return i},t.prototype.attachMeta=function(){var t,e,n,i;this.model._meta=this.meta,n=this.meta,i=[];for(t in n)e=n[t],i.push(this.model.prototype[t]=e);return i},t.prototype.attachBuckets=function(){return this.model.items=[]},t.prototype.initPaths=function(){var t,e,n,i,r;return t=this.meta.$path,e=this.meta.$paths,r=t||(null!=e?e.root:void 0),"function"!=typeof r&&(n=r,r=function(){return n}),i={root:r,get:function(){return""+i.root.call(this.model)+"/"+this.id},put:function(){return i.get.call(this)},post:function(){return i.root.call(this.model)},"delete":function(){return i.get.call(this)}},this.model.paths=i},t}(),e.exports=i},{"./base-model.coffee":20}],24:[function(t,e){var n,i,r,o,s,u={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("../shared.coffee"),i=t("./data-type.coffee"),n=t("./base-model.coffee"),r=t("./model.coffee"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype["default"]=null,e.prototype.parseType=function(t){var e,i;return t?(e=t.toString(),e.indexOf("[native code]")+1?t:(null!=t?null!=(i=t.__super__)?i.constructor:void 0:void 0)===n?function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(t,arguments,function(){})}:(t=t(),function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(t,arguments,function(){})})):function(t){return t}},e.prototype.parseData=function(t){return e.__super__.parseData.apply(this,arguments),null!=t["default"]&&(this["default"]=this.type(t["default"])),this.value=this.savedValue=this["default"]},e.prototype.set=function(t,e){return null==e&&(e=!0),e&&this._subscribe.call(this.context,t,this.value),this.value=this.type instanceof r?new this.type(t):this.type(t)},e.prototype.unset=function(){return this.value=this["default"]},e.prototype.save=function(){return this.validate()?this.savedValue=this.value:void 0},e.prototype.revert=function(){return this.value=this.savedValue},e}(i),s.Property=o,e.exports=o},{"../shared.coffee":28,"./base-model.coffee":20,"./data-type.coffee":22,"./model.coffee":23}],25:[function(t,e){var n;n=function(){function t(t,e){this.meta=t,this.context=e,this.update()}return t.prototype.set=function(t){var e;return null!=(e=this.meta.write)&&e.call(this.context,t),this.update()},t.prototype.get=function(){var t;return this.value=null!=(t=this.meta.read)?t.call(this.context):void 0},t.prototype.update=function(){return this.get()},t}(),e.exports=n},{}],26:[function(t,e){var n,i,r,o,s,u,a,c,p,h,l,f,d,m,y,v;v=t("./shared.coffee"),f=t("./bindings/text-node.coffee"),p=t("./bindings/if.coffee"),i=t("./bindings/attribute-text.coffee"),u=t("./bindings/event.coffee"),n=t("./bindings/attributes.coffee"),s=t("./bindings/context.coffee"),r=t("./bindings/css.coffee"),y=t("./bindings/visible.coffee"),o=t("./bindings/compose.coffee"),a=t("./bindings/for.coffee"),c=t("./bindings/html.coffee"),m=t("./bindings/value.coffee"),d=t("./bindings/update.coffee"),h=t("./bindings/init.coffee"),l=function(){function t(t){this.context=t,this.context.$element.each(function(t){return function(e,n){var i;return t.parseNode(i=$(n))}}(this))}return t.prototype.bindings=[f,p,i,u,n,s,r,y,o,a,c,m],t.prototype.parseNode=function(e){var n,i,r,o,s,u;for(r={$element:e,scope:this.context.scope,parent:this.context.parent,root:this.context.root,extras:this.context.extras},u=this.bindings,o=0,s=u.length;s>o;o++){if(i=u[o],r.stopParsing)return;new i(r)}return r.skipChildren?void 0:(n=r.$contents||e.contents(),n.each(function(){return function(e,n){return new t($.extend({},r,r.childContext,{$element:$(n)}))}}(this)),new d(r),new h(r))},t}(),v.Parser=l,e.exports=l},{"./bindings/attribute-text.coffee":1,"./bindings/attributes.coffee":2,"./bindings/compose.coffee":4,"./bindings/context.coffee":5,"./bindings/css.coffee":6,"./bindings/event.coffee":7,"./bindings/for.coffee":8,"./bindings/html.coffee":9,"./bindings/if.coffee":10,"./bindings/init.coffee":11,"./bindings/text-node.coffee":12,"./bindings/update.coffee":13,"./bindings/value.coffee":14,"./bindings/visible.coffee":15,"./shared.coffee":28}],27:[function(t,e){var n,i,r=function(t,e){return function(){return t.apply(e,arguments)}};n=t("./dirty-check.coffee"),i=function(){function t(){this.handleChange=r(this.handleChange,this),this.bindEvent()}return t.getInstance=function(){return null!=this.instance?this.instance:this.instance=new t},t.prototype.event="hashchange",t.prototype.routes=[],t.prototype.defaultRoute=null,t.prototype.bindEvent=function(){return $(window).on("hashchange",this.handleChange)},t.prototype.handleChange=function(){var t,e,i,r,o,s,u;for(t=location.hash.replace(/^#/,""),s=this.routes.sort(function(t,e){return e.path.length-t.path.length}),r=0,o=s.length;o>r;r++)if(i=s[r],i.regex.test(t))return e=i.handler(this.getParams(t,i)),n.update(),e;return e=null!=(u=this.defaultRoute)?u.handler(t):void 0,n.update(),e},t.prototype.getRegex=function(t){var e,n,i,r,o;for(i=t.split("/"),e=r=0,o=i.length;o>r;e=++r)n=i[e],i[e]=":"===n.charAt(0)?"[^\\/]+":n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return new RegExp("^"+i.join("\\/"))},t.prototype.mapDefaultRoute=function(t){return this.defaultRoute={handler:t}},t.prototype.mapRoute=function(t,e){var n,i,r,o,s,u,a,c;if(t instanceof Array){for(a=[],s=0,u=t.length;u>s;s++)i=t[s],a.push(this.mapRoute(i,e));return a}if("object"==typeof t){c=[];for(n in t)o=t[n],c.push(this.mapRoute(n,o));return c}return r={regex:this.getRegex(t),path:t,handler:e},this.routes.push(r)},t.prototype.getParams=function(t,e){var n,i,r,o,s,u,a;for(r={},n=t.split("/"),s=e.path.split("/"),i=u=0,a=s.length;a>u;i=++u)o=s[i],":"===o.charAt(0)&&(r[o.substring(1)]=n[i]);return r.$rest=n.slice(s.length).join("/"),r},t}(),e.exports=i},{"./dirty-check.coffee":18}],28:[function(t,e){e.exports={Parser:null,Property:null,app:null,viewPath:"./views",throttle:30,bindings:{read:[],write:[]},views:{},transitions:{intro:{},outro:{}},events:"blur focus focusin focusout load resize scroll unload click\ndblclick mousedown mouseup mousemove mouseover mouseout mouseenter\nmouseleave change select submit keydown keypress keyup error".split(/\s+/g)}},{}]},{},[19]);